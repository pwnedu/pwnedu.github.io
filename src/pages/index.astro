---
import { Icon } from "astro-icon";
import Card from "@components/Card.astro";
import Title from "@components/Title.svelte";
import Layout from "../layout/Layout.astro";

const repos = await fetch("https://api.github.com/users/pwnedu/repos").then(
    (res) => res.json()
);

const reposTest = [
    {
        name: "Repo Name",
        description: "Description Test",
        stargazers_count: 6,
        watchers_count: 6,
        html_url: "google.com",
        language: "HTML",
    },
    {
        name: "Repo Name",
        description: "Description Test",
        stargazers_count: 6,
        watchers_count: 6,
        html_url: "google.com",
        language: "HTML",
    },
    {
        name: "Repo Name",
        description: "Description Test",
        stargazers_count: 6,
        watchers_count: 6,
        html_url: "google.com",
        language: "HTML",
    },
    {
        name: "Repo Name",
        description: "Description Test",
        stargazers_count: 6,
        watchers_count: 6,
        html_url: "google.com",
        language: "HTML",
    },
    {
        name: "Repo Name",
        description: "Description Test",
        stargazers_count: 6,
        watchers_count: 6,
        html_url: "google.com",
        language: "HTML",
    },
    {
        name: "Repo Name",
        description: "Description Test",
        stargazers_count: 6,
        watchers_count: 6,
        html_url: "google.com",
        language: "HTML",
    },
];

const socials = [
    {
        name: "Discord",
        icon: "ic:baseline-discord",
    },
    {
        name: "GitHub",
        icon: "mdi:github",
    },
];
---

<Layout>
    <div class="space-y-8">
        <section
            class="relative bg-fixed bg-no-repeat rounded-md h-96"
            style="background-image: url('/images/no.gif'); image-rendering: auto; "
        >
            <div class="absolute inset-0 bg-black bg-opacity-40"></div>
        </section>

        <section class="space-y-4">
            <Title
                class="inline-block px-4 font-mono text-2xl font-bold cursor-default hover:bg-white hover:text-black"
                title="Projects"
                client:load
            />
            <ul class="grid grid-flow-row gap-4 md:grid-cols-2">
                {reposTest.map((repo) => <Card repo={repo} />)}
            </ul>
        </section>

        <section class="space-y-4">
            <Title
                class="inline-block px-4 font-mono text-2xl font-bold cursor-default hover:bg-white hover:text-black"
                title="Contact Me"
                client:load
            />
            <div class="flex justify-center gap-4">
                {
                    socials.map((social) => (
                        <button class="transition-colors duration-150 ease-in-out rounded-md cursor-pointer hover:bg-white/70 active:bg-white group">
                            <Icon
                                name={social.icon}
                                class="w-24 h-24 transition-colors duration-150 ease-in-out group-hover:text-black"
                            />
                        </button>
                    ))
                }
            </div>
        </section>
    </div>
</Layout>
